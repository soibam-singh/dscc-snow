name: DEV env - Merging a Feature branch to a Development branch
on:
  #workflow_dispatch:
  pull_request_target:
    branches:
      - Development
    types:
      - closed
    #paths-ignore:
    #  - '**/.github/workflows/**'
jobs:  
  second-job:
     if: github.event.pull_request.merged == true  # Only run if pull request is merged
     runs-on:
       - ubuntu-latest       
     steps:
       - name: Print Message
         run: echo "This is the second job."
                 # You can add more steps here to perform actual tasks and produce an output
       - name: Generate Output
         id: generate_output
         run: echo "::set-output name=my_output::1000"

  third-job:
    if: github.event.pull_request.merged == true  # Only run if pull request is merged
    runs-on: ubuntu-latest
    needs: second-job    
    steps:
      - name: Print Message
        run: echo "This is the third job, and it depends on the output of the second job."
      - name: Use Second Job Output
        run: echo "The output of the second job was ${{ needs.second-job.outputs.my_output }}"
